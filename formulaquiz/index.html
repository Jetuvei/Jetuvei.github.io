<!DOCTYPE html>

<!--
  Welcome to my page source! You can see it/fork it on github:

      https://github.com/Jetuvei/Jetuvei.github.io

  (Although, there are probably better examples of html out there
  that you could fork...)

  I also owe a lot to www.codecademy.com, which is where I've 
  been learning html/css.
-->

<html>
 
 <!-- HEAD -->
 <head>

  <!-- LINKS -->
 <!--
  <link href='https://fonts.googleapis.com/css?family=Source+Serif+Pro' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
 -->
  <link type="text/css" rel="stylesheet" href="../jwstyle.css"/>
  
  <!-- IMPORTED SCRIPTS -->
  
  <script type="text/javascript" src="../formulaquiz/formulas.js"> </script>
  <script type="text/javascript" src="../formulaquiz/question_generator.js"> </script>

  <!-- MAIN SCRIPT -->
  <script>

    var current_question;
    var question_generator;

    var is_correct;

    var question_text;
    var answer_text;
    var is_correct_text;

    var option_A_text;
    var option_B_text;
    var option_C_text;
    var option_D_text;

    var CORRECT_MSG = "Correct!";
    var NOT_CORRECT_MSG = "Woops! That's incorrect.";

    function onLoad()
    {
      alert("DEBUG: OnLoad();");

      question_generator = new QuestionGenerator();

      // DEBUG
      console.log("DEBUG: formula list: " + question_generator.formula_list);
      console.log("DEBUG: formula pointer: " + question_generator.formula_pointer);
      console.log("DEBUG: active formula: " + question_generator.active_formula);
      question_generator.debugFunction();

      question_text = document.getElementById("question-text");
      answer_text = document.getElementById("answer-text");
      is_correct_text = document.getElementById("is-correct-text");

      option_A_text = document.getElementById("option-A-text");
      option_B_text = document.getElementById("option-B-text");
      option_C_text = document.getElementById("option-C-text");
      option_D_text = document.getElementById("option-D-text");

      refreshQuestion();
    };

    function refreshQuestion()
    {
      is_correct = null;
      current_question = question_generator.nextQuestion();
      question_text.innerHTML = current_question.getQuestionText();

      option_A_text.innerHTML = current_question.getAnswerOptionByIndex(0);
      option_B_text.innerHTML = current_question.getAnswerOptionByIndex(1);
      option_C_text.innerHTML = current_question.getAnswerOptionByIndex(2);
      option_D_text.innerHTML = current_question.getAnswerOptionByIndex(3);
    };

    function submitAnswer(ans)
    {
      if (ans === current_question.getAnswerKey())
      {
        is_correct = true;
      }
      else
      {
        is_correct = false;
      }
      
      if(is_correct) // redundancy??
      {
        is_correct_text.innerHTML = CORRECT_MSG;
      }
      else
      {
        is_correct_text.innerHTML = NOT_CORRECT_MSG;
      }
    };
  </script>


  <title>Physics Formula Quiz</title>
 </head>

 <body onload="onLoad();">

 <!-- content div wraps sidebar and main to control positioning of the two -->
 <div class="content">

<!-- SIDEBAR -->
<!-- - ->
  <div class="sidebar">

  </div>
<!- - -->

<!-- MAIN -->
  <div class="main">

   <div id="question-area">
    <p id="question-text">QUESTION GOES HERE</p></br>
    <table>
      <tr>
        <td>A:</td>
        <td id="option-A-text">OPTION A</td>
      </tr>
      <tr>
        <td>B:</td>
        <td id="option-B-text">OPTION B</td>
      </tr>
      <tr>
        <td>C:</td>
        <td id="option-C-text">OPTION C</td>
      </tr>
      <tr>
        <td>D:</td>
        <td id="option-D-text">OPTION D</td>
      </tr>
    </table>
   </div>

   <div id="button-row">
    <table>
      <tr>
        <td><button onclick="submitAnswer('A');">A</button></td>
        <td><button onclick="submitAnswer('B');">B</button></td>
        <td><button onclick="submitAnswer('C');">C</button></td>
        <td><button onclick="submitAnswer('D');">D</button></td>
      </tr>
      <tr>
        <td colspan="4"><button onclick="refreshQuestion();">New Question</button></td>
      </tr>
    </table>
  </div> 

  <div id="answer-area">
    <p id="is-correct-text">IS CORRECT?</p>
    <p id="answer-text">ANSWER GOES HERE</p>
  </div>

 </div>

 </body>
</html>
